<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Work</title>
  <link rel="stylesheet" href="style.css" />

  <link rel="icon" href="/favicon.png" type="image/png">
</head>

<body id="top">
  <a id="top-anchor"></a>
  <nav class="nav">
    <div class="nav-side left">
      <a href="work.html" class="nav-item text-link" onclick="handleNavClick(event, 'work')">WORK</a>
    </div>
    <a href="home.html" class="nav-logo text-link" onclick="handleNavClick(event, 'home')">AG</a>
    <div class="nav-side right">
      <a href="play.html" class="nav-item text-link" onclick="handleNavClick(event, 'play')">PLAY</a>
      <a href="about.html" class="nav-item text-link" onclick="handleNavClick(event, 'about')">A'BOUT</a>
    </div>
  </nav>

  <div class="container">
    <div class="grid">
      <a href="amelie.html" class="grid-item amelie text-link" style="
        background-image: url('IMAGE/Amelie/AmelieCover.png');">
        <div class="project-info">
          <div class="project-label">Amelie</div>
          <div class="project-type">Graphic + Brand Identity</div>
        </div>
      </a>

      <a href="flower-head.html" class="grid-item flowerhead text-link" 
        style="background-image: url('IMAGE/Flowerhead/FlowerheadCover.png');">
        <div class="project-info">
          <div class="project-label">5555Flowerhead Gallery</div>
          <div class="project-type">Brand Identity</div>
        </div>
      </a>


      <a href="my-collection.html" class="grid-item my-collection text-link" style="
      background-image: url('/IMAGE/MyCollection/MyCollectionCover.jpg');">
        <div class="project-info">
          <div class="project-label">My Collection</div>
          <div class="project-type">3D Modelling + Animation </div>
        </div>
      </a>

      <a href="zhonghua-master-chef.html" class="grid-item zhonghua-master-chef text-link"
      style="
      background-image: url('IMAGE/ZhonghuaMasterChef/ZHMFCover.jpg');">
        <div class="project-info">
          <div class="project-label">Zhonghua Master Chef</div>
          <div class="project-type">Game Design</div>
        </div>
      </a>

      <a href="apocile.html" class="grid-item apocile text-link" style="
      background-image: url('IMAGE/Apocile/ApocileCover.png');">
        <div class="project-info">
          <div class="project-label">Apocile</div>
          <div class="project-type">Graphic Novel</div>
        </div>
      </a>

      <a href="bruise.html" class="grid-item bruise text-link" style="
        background-image: url('IMAGE/Bruise/BruiseCover.png');">
        <div class="project-info">
          <div class="project-label">Bruise</div>
          <div class="project-type">Web Design</div>
        </div>
      </a>


      <a href="no-more-bets.html" class="grid-item no-more-bets text-link" style="
      background-image: url('IMAGE/NoMoreBets/NoMoreBetsCover.png')">
        <div class="project-info" style="position: relative; z-index: 3;">
          <div class="project-label">No More Bets</div>
          <div class="project-type">Brand Identity + Exhibition Design</div>
        </div>
      </a>
<!-- 
      <a href="the-dust-remember.html" class="grid-item dust-remember text-link"
        style="position: relative; background: none;">
        <video autoplay muted loop playsinline
          style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
          <source src="IMAGE/TheDustRemembers/TheDustRemembersCover.mp4" type="video/mp4" />
        </video>
        <div class="project-info" style="position: relative; z-index: 3;">
          <div class="project-label">The Dust Remembers</div>
          <div class="project-type">Print + Graphic Design</div>
        </div>
      </a> -->

      <a href="the-orb.html" class="grid-item orb text-link" style="
      background-image: url('IMAGE/TheOrb/TheOrbCover.png');">
        <div class="project-info">
          <div class="project-label">The Orb</div>
          <div class="project-type">3D Modelling</div>
        </div>
      </a>
    </div>
  </div>

  <div class="filter-vertical-section">
    <div class="filter-vertical-title">filter</div>
    <div class="filter-vertical-items">
      <a href="work-uiux.html" class="filter-vertical-item text-link">UI/UX</a>
      <a href="work-visual.html" class="filter-vertical-item text-link">VISUAL</a>
      <a href="work-film.html" class="filter-vertical-item text-link">FILM</a>
      <a href="work-aigc.html" class="filter-vertical-item text-link">AIGC</a>
    </div>
  </div>

  <!-- DEBUG SECTION - Remove this after fixing -->
  <div id="debug-section" style="
    position: fixed; 
    top: 10px; 
    right: 10px; 
    background: rgba(0,0,0,0.8); 
    color: white; 
    padding: 10px; 
    font-family: monospace; 
    font-size: 12px; 
    max-width: 300px; 
    z-index: 9999;
    border-radius: 5px;
    display: none;
  ">
    <div style="font-weight: bold; margin-bottom: 5px;">üêõ DEBUG INFO</div>
    <div id="debug-content"></div>
    <button onclick="document.getElementById('debug-section').style.display='none'" style="
      background: #ff4444; 
      color: white; 
      border: none; 
      padding: 2px 5px; 
      margin-top: 5px; 
      cursor: pointer;
    ">Close</button>
  </div>
  </div>


  <footer class="footer-bar">
    <div class="footer-left"><span style="pointer-events: none;"><span class="highlighted-font">Annie
          Gu</span>&nbsp;&nbsp;¬© 2025</span></div>
    <div class="footer-right">
      <a href="#top-anchor" class="footer-link">‚Üë BACK TO TOP</a>
    </div>
  </footer>

  <script>
    // DEBUG: Image loading diagnostics
    console.log('=== IMAGE LOADING DEBUG ===');
    console.log('Current URL:', window.location.href);
    console.log('Base URL:', window.location.origin);
    console.log('Current path:', window.location.pathname);
    
    let debugInfo = [];
    let failedImages = [];
    let loadedImages = [];
    
    // Check all background images
    document.querySelectorAll('.grid-item').forEach((item, index) => {
      const style = window.getComputedStyle(item);
      const bgImage = style.backgroundImage;
      const projectLabel = item.querySelector('.project-label').textContent;
      
      console.log(`\n--- Project ${index + 1}: ${projectLabel} ---`);
      console.log('Background image URL:', bgImage);
      
      if (bgImage && bgImage !== 'none') {
        console.log('Raw background-image CSS:', bgImage);
        console.log('CSS length:', bgImage.length);
        console.log('CSS char codes:', Array.from(bgImage).map(c => c.charCodeAt(0)));
        
        // Try multiple regex patterns to extract URL
        let imageUrl = null;
        const patterns = [
          /url\(['"]?([^'"]+)['"]?\)/,  // Original pattern
          /url\(([^)]+)\)/,             // Simpler pattern
          /url\(['"]([^'"]+)['"]\)/,    // With quotes
          /url\(([^)]+)\)/i             // Case insensitive
        ];
        
        for (let i = 0; i < patterns.length; i++) {
          const match = bgImage.match(patterns[i]);
          if (match && match[1]) {
            imageUrl = match[1].trim();
            console.log(`Pattern ${i + 1} matched:`, imageUrl);
            break;
          }
        }
        
        if (imageUrl) {
          console.log('Final extracted URL:', imageUrl);
          console.log('URL length:', imageUrl.length);
          console.log('URL char codes:', Array.from(imageUrl).map(c => c.charCodeAt(0)));
          
          // Clean the URL of any problematic characters
          const cleanUrl = imageUrl.replace(/[^\x20-\x7E]/g, ''); // Remove non-printable chars
          console.log('Cleaned URL:', cleanUrl);
          
          // Test if image loads
          const img = new Image();
          img.onload = function() {
            console.log(`‚úÖ ${projectLabel} image loaded successfully`);
            loadedImages.push(projectLabel);
            updateDebugDisplay();
          };
          img.onerror = function() {
            console.error(`‚ùå ${projectLabel} image failed to load:`, cleanUrl);
            console.error('Full resolved URL:', new URL(cleanUrl, window.location.href).href);
            failedImages.push({name: projectLabel, url: cleanUrl, resolvedUrl: new URL(cleanUrl, window.location.href).href});
            updateDebugDisplay();
          };
          img.src = cleanUrl;
        } else {
          console.error('No URL match found with any pattern in:', bgImage);
          failedImages.push({name: projectLabel, url: 'No URL match', resolvedUrl: 'N/A'});
          updateDebugDisplay();
        }
      } else {
        console.warn(`‚ö†Ô∏è No background image found for ${projectLabel}`);
        failedImages.push({name: projectLabel, url: 'No background image', resolvedUrl: 'N/A'});
        updateDebugDisplay();
      }
    });
    
    function updateDebugDisplay() {
      const debugContent = document.getElementById('debug-content');
      if (debugContent) {
        let html = `<div>‚úÖ Loaded: ${loadedImages.length}</div>`;
        html += `<div>‚ùå Failed: ${failedImages.length}</div><br>`;
        
        if (failedImages.length > 0) {
          html += '<div style="color: #ff6666;">Failed Images:</div>';
          failedImages.forEach(img => {
            html += `<div style="font-size: 10px; margin: 2px 0;">‚Ä¢ ${img.name}</div>`;
            html += `<div style="font-size: 9px; color: #ccc; margin-left: 10px;">${img.url}</div>`;
          });
        }
        
        if (loadedImages.length > 0) {
          html += '<div style="color: #66ff66; margin-top: 10px;">Loaded Images:</div>';
          loadedImages.forEach(img => {
            html += `<div style="font-size: 10px; margin: 2px 0;">‚Ä¢ ${img}</div>`;
          });
        }
        
        debugContent.innerHTML = html;
        document.getElementById('debug-section').style.display = 'block';
      }
    }
    
    // Test direct image paths
    console.log('\n=== DIRECT IMAGE PATH TEST ===');
    const testPaths = [
      'IMAGE/Amelie/AmelieCover.png',
      'IMAGE/Flowerhead/FlowerheadCover.png',
      'IMAGE/MyCollection/MyCollectionCover.jpg',
      'IMAGE/ZhonghuaMasterChef/ZHMFCover.jpg',
      'IMAGE/Apocile/ApocileCover.png',
      'IMAGE/Bruise/BruiseCover.png',
      'IMAGE/NoMoreBets/NoMoreBetsCover.png',
      'IMAGE/TheOrb/TheOrbCover.png'
    ];
    
    testPaths.forEach((path, index) => {
      const img = new Image();
      img.onload = function() {
        console.log(`‚úÖ Direct test ${index + 1}: ${path} loaded successfully`);
      };
      img.onerror = function() {
        console.error(`‚ùå Direct test ${index + 1}: ${path} failed to load`);
        console.error('Full URL:', new URL(path, window.location.href).href);
      };
      img.src = path;
    });

    // Show debug panel after a short delay
    setTimeout(() => {
      updateDebugDisplay();
    }, 1000);

    // Add some interactive functionality
    document.querySelectorAll('.grid-item').forEach(item => {
      item.addEventListener('click', function () {
        const label = this.querySelector('.project-label').textContent;
        console.log(`Clicked on: ${label}`);
        // You can add navigation or modal functionality here
      });
    });

    // Filter functionality
    document.querySelectorAll('.filter-item').forEach(filter => {
      filter.addEventListener('click', function () {
        const filterType = this.textContent.toLowerCase();
        console.log(`Filter selected: ${filterType}`);
        // Add filter logic here

        // Remove active class from all filters
        document.querySelectorAll('.filter-item').forEach(f => f.style.opacity = '0.7');
        // Add active state to clicked filter
        this.style.opacity = '1';
      });
    });

    // Smooth scrolling and navigation
    document.querySelectorAll('.nav-item').forEach(navItem => {
      navItem.addEventListener('click', function () {
        const text = this.textContent.toLowerCase();
        console.log(`Navigation clicked: ${text}`);
        // Add navigation logic here
      });
    });
  </script>

</body>

</html>